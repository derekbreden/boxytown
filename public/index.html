<!doctype html>
<head>
  <link rel="shortcut icon" href="/images/favicon.png?v=2.0">
  <title>BoxyTown . Professional simple websites</title>
  <style>


    @font-face {
      font-family: 'quattrocento_sansregular';
      src: url('/fonts/quattrocentosans-regular-webfont.eot');
      src: url('/fonts/quattrocentosans-regular-webfont.eot?#iefix') format('embedded-opentype'),
           url('/fonts/quattrocentosans-regular-webfont.woff2') format('woff2'),
           url('/fonts/quattrocentosans-regular-webfont.woff') format('woff'),
           url('/fonts/quattrocentosans-regular-webfont.ttf') format('truetype'),
           url('/fonts/quattrocentosans-regular-webfont.svg#quattrocento_sansregular') format('svg');
      font-weight: normal;
      font-style: normal }
    @font-face {
      font-family: 'quicksandregular';
      src: url('/fonts/quicksand-regular-webfont.eot');
      src: url('/fonts/quicksand-regular-webfont.eot?#iefix') format('embedded-opentype'),
           url('/fonts/quicksand-regular-webfont.woff2') format('woff2'),
           url('/fonts/quicksand-regular-webfont.woff') format('woff'),
           url('/fonts/quicksand-regular-webfont.ttf') format('truetype'),
           url('/fonts/quicksand-regular-webfont.svg#quicksandregular') format('svg');
      font-weight: normal;
      font-style: normal }


    body{
      background: #f5f4f0 }
    body,a{
      color: #1a1a1a }
    a:hover{
      color: #357eeb }
    *{
      position: relative;
      box-sizing: border-box;
      display: inline-block;
      margin: 0; padding: 0;
      font-family: quicksandregular;
      font-weight: normal;
      font-size: 0 }
    head,script,style{
      display: none }


    .w80{
      width: 80% }
    .w60{
      width: 60% }
    .w40{
      width: 40% }
    .w20{
      width: 20% }
    .w100,body,div{
      width: 100% }


    h1{
      font-family: quattrocento_sansregular;
      font-size: 72px }
    .l{
      text-align: left }
    .r{
      text-align: right }
    .c{
      text-align: center }
    .m1{
      padding: 48px }


    .logo{
      margin-left: 14px }
    .logo .a,
    .logo .b,
    .logo .c{
      border: 4px solid #1a1a1a;
      border-radius: 4px;
      background: #f5f4f0 }
    .logo .a{
      width: 60px;
      height: 40px;
      z-index: 3;
      position: absolute;
      bottom: -8px }
    .logo .b{
      width: 40px;
      height: 64px;
      margin-left: 20px }
    .logo .c{
      width: 50px;
      height: 48px;
      margin-left: -20px }


    .i1{
      height: 40px;
      width: 320px;
      border: 1px solid #1a1a1a;
      font-size: 24px;
      vertical-align: top;
      padding: 0 20px }
    .i2{
      margin-left: 20px;
      background: none;
      border: 1px solid #1a1a1a;
      height: 40px;
      width: auto;
      padding: 0 20px;
      font-size: 24px;
      vertical-align: top;
      cursor: pointer }
    .i2[disabled]{
      cursor: default;
      border-color: #999;
      color: #999 }


    #display1{o;
      line-height: 24px;
      font-size: 16px;
      text-align: left;
      width: auto;
      padding-left: 21px;
      padding-top: 16px }
    #display1 .span1{
      color: #000;
      font-size: 18px }
    #display1 .span2{
      margin-left: 12px;
      font-size: 16px }
    #display1.available .span2{
      color: #1a991a;
      margin-left: 12px;
      font-size: 16px }


  </style>
</head>
<body>
  <div class="c">
    <div class="c m1">
      <h1>BoxyTown</h1>
      <span class="logo"><span class="a"></span><span class="b"></span><span class="c"></span></span>
    </div>
    <div class="c m1">
      <span class="l">
        <form id="form1">
          <input class="i1" id="input1" type="text" placeholder="yournamehere.com">
          <input class="i2" id="input2" type="submit" value="edit" disabled>
        </form>
        <br>
        <div id="display1"></div>
      </span>
    </div>
  </div>
  <script>
    var $form1 = document.getElementById('form1')
    var $input1 = document.getElementById('input1')
    var $input2 = document.getElementById('input2')
    var $display1 = document.getElementById('display1')
    $display1.orginalClassName = $display1.className

    var parseSearch = function(searchText){
      searchText = searchText.replace(/^([^:]*:\/\/|)(www|)/i,'')
      searchText = searchText.replace(/\.[^\.]*$/i,'')
      searchText = searchText.replace(/[^a-z0-9]/ig,'')
      return searchText }

    var lastTimeout = 0
    var searchText = ''

    $form1.addEventListener('submit',function(e){
      e.preventDefault()
      window.location.href='/?edit=' + parseSearch($input1.value)
    })

    $input1.addEventListener('keyup',function(e){
      if (searchText === parseSearch($input1.value))
        return
      searchText = parseSearch($input1.value)

      $display1.innerHTML = 'Searching...'
      $display1.className = $display1.orginalClassName + ' searching'
      $input2.setAttribute('disabled', true)

      var result = function(err){
        clearTimeout(lastTimeout)
        if(err){
          $input2.setAttribute('disabled', true)
          $display1.innerHTML = err
          $display1.className = $display1.orginalClassName + ' error'
        }else{
          $input2.removeAttribute('disabled')
          $display1.innerHTML = '<span class="span1">' + searchText + '.com</span>' +
            '<span class="span2">is available</span>' +
            '<br><span class="span1">' + searchText + '.boxy.town</span>' +
              '<span class="span2">is available</span>'
          $display1.className = $display1.orginalClassName + ' available'
        }
      }

      if(searchText===''){
        result('Choose a name ...')
        return }

      clearTimeout(lastTimeout)
      lastTimeout = setTimeout(function(){
        result()
      }, 500)
    })
  </script>
</body>
